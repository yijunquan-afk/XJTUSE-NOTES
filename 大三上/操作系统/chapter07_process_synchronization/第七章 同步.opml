<?xml version="1.0" encoding="UTF-8"?>
<opml version="2.0">
  <head>
    <title></title>
    <dateModified></dateModified>
    <ownerName></ownerName>
  </head>
  <body>
<outline text="ç¬¬ä¸ƒç«  åŒæ­¥">
  <outline text="Backgroundï¼ˆèƒŒæ™¯ï¼‰" _note="å¤šä¸ªè¿›ç¨‹å¯¹å…±äº«æ•°æ®çš„å¹¶å‘è®¿é—®å¯èƒ½å¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´æ€§ï¼Œè¦ä¿æŒæ•°æ®çš„ä¸€è‡´æ€§ï¼Œå°±éœ€è¦ä¸€ç§ä¿è¯å¹¶å‘è¿›ç¨‹çš„æ­£ç¡®æ‰§è¡Œé¡ºåºçš„æœºåˆ¶&#10;&#10;**race condition ç«žäº‰æ¡ä»¶**&#10;&#10;&gt; è‹¥å¹²ä¸ªå¹¶å‘çš„è¿›ç¨‹(çº¿ç¨‹)éƒ½å¯ä»¥è®¿é—®å’Œæ“çºµåŒä¸€ä¸ªå…±äº«æ•°æ®,ä»Žè€Œæ‰§è¡Œç»“æžœå°±å–å†³äºŽå¹¶å‘è¿›ç¨‹å¯¹è¿™ä¸ªæ•°æ®çš„è®¿é—®æ¬¡åº.&#10;&gt;&#10;&gt; ä¸ºäº†ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§,éœ€è¦æœ‰åŒæ­¥æœºåˆ¶æ¥ä¿è¯å¤šä¸ªè¿›ç¨‹å¯¹å…±äº«æ•°æ®çš„**äº’æ–¥è®¿é—®.**&#10;&#10;**è¿›ç¨‹ç±»åž‹**ï¼šåä½œè¿›ç¨‹ã€ç‹¬ç«‹è¿›ç¨‹&#10;&#10;**è¿›ç¨‹é—´èµ„æºè®¿é—®å†²çª**ï¼šå…±äº«å˜é‡çš„ä¿®æ”¹å†²çªã€æ“ä½œé¡ºåºå†²çª&#10;&#10;**è¿›ç¨‹é—´çš„åˆ¶çº¦å…³ç³»**&#10;&#10;&gt; **é—´æŽ¥åˆ¶çº¦**ï¼šæœ‰äº›èµ„æºéœ€è¦äº’æ–¥ä½¿ç”¨ï¼Œå› æ­¤å„è¿›ç¨‹è¿›è¡Œç«žäº‰ï¼ï¼ç‹¬å åˆ†é…åˆ°çš„éƒ¨åˆ†æˆ–å…¨éƒ¨å…±äº«èµ„æºï¼Œè¿›ç¨‹çš„è¿™ç§å…³ç³»ä¸º**è¿›ç¨‹çš„äº’æ–¥**  &#10;&gt; **ç›´æŽ¥åˆ¶çº¦**ï¼šè¿›è¡Œåä½œï¼ï¼å…·ä½“è¯´ï¼Œä¸€ä¸ªè¿›ç¨‹è¿è¡Œåˆ°æŸä¸€ç‚¹æ—¶è¦æ±‚å¦ä¸€ä¼™ä¼´è¿›ç¨‹ä¸ºå®ƒæä¾›æ¶ˆæ¯ï¼Œåœ¨æœªèŽ·å¾—æ¶ˆæ¯ä¹‹å‰ï¼Œè¯¥è¿›ç¨‹å¤„äºŽç­‰å¾…çŠ¶æ€ï¼ŒèŽ·å¾—æ¶ˆæ¯åŽè¢«å”¤é†’è¿›å…¥å°±ç»ªæ€.è¿›ç¨‹çš„è¿™ç§å…³ç³»ä¸º**è¿›ç¨‹çš„åŒæ­¥ï¼ˆç­‰å¾…æ¥è‡ªå…¶ä»–è¿›ç¨‹çš„ä¿¡æ¯ï¼Œâ€œåŒæ­¥â€)**&#10;&#10;**è¿›ç¨‹é—´çš„äº¤äº’å…³ç³»**&#10;&#10;&gt; **äº’æ–¥**ï¼ŒæŒ‡å¤šä¸ªè¿›ç¨‹ä¸èƒ½åŒæ—¶ä½¿ç”¨åŒä¸€ä¸ªèµ„æºï¼›&#10;&gt;&#10;&gt; **åŒæ­¥**ï¼Œè¿›ç¨‹ä¹‹é—´çš„åä½œï¼›&#10;&gt;&#10;&gt; **æ­»é”**ï¼ŒæŒ‡å¤šä¸ªè¿›ç¨‹äº’ä¸ç›¸è®©ï¼Œéƒ½å¾—ä¸åˆ°è¶³å¤Ÿçš„èµ„æºï¼›&#10;&gt;&#10;&gt; **é¥¥é¥¿**ï¼ŒæŒ‡ä¸€ä¸ªè¿›ç¨‹ä¸€ç›´å¾—ä¸åˆ°èµ„æºï¼ˆå…¶ä»–è¿›ç¨‹å¯èƒ½è½®æµå ç”¨èµ„æºï¼‰">
  </outline>
  <outline text="The Critical-Section Problem ï¼ˆä¸´ç•ŒåŒºé—®é¢˜ï¼‰" _note="**ä¸´ç•ŒåŒº(critical section)**ï¼šè¿›ç¨‹ä¸­è®¿é—®**ä¸´ç•Œèµ„æº**çš„ä¸€æ®µä»£ç ã€‚ï¼ˆè€ƒç‚¹ï¼‰&#10;&#10;å®žçŽ°è¿›ç¨‹å¯¹ä¸´ç•Œèµ„æºçš„äº’æ–¥è®¿é—®â€”å„è¿›ç¨‹äº’æ–¥çš„è¿›å…¥è‡ªå·±çš„ä¸´ç•ŒåŒº&#10;&#10;å‡å®šä¸€ä¸ªç³»ç»Ÿæœ‰nä¸ªè¿›ç¨‹{P0,P1,â€¦â€¦,Pn-1},æ¯ä¸ªè¿›ç¨‹æœ‰ä¸€ä¸ªä»£ç æ®µç§°ä¸ºä¸´ç•ŒåŒº,åœ¨è¯¥åŒºä¸­è¿›ç¨‹å¯èƒ½ä¿®æ”¹å…±äº«å˜é‡\\æ›´æ–°ä¸€ä¸ªè¡¨\\å†™ä¸€ä¸ªæ–‡ä»¶ç­‰.å½“ä¸€ä¸ªè¿›ç¨‹åœ¨ä¸´ç•ŒåŒºä¸­æ‰§è¡Œæ—¶,å…¶ä»–è¿›ç¨‹éƒ½ä¸èƒ½è¿›å…¥ä¸´ç•ŒåŒº&#10;&#10;ä¸´ç•ŒåŒºçš„æ‰§è¡Œåœ¨æ—¶é—´ä¸Šæ˜¯äº’æ–¥çš„,è¿›ç¨‹å¿…é¡»è¯·æ±‚å…è®¸è¿›å…¥ä¸´ç•ŒåŒº&#10;&#10;&gt; **è¿›å…¥åŒº(entry&#10;&gt; section)**ï¼šåœ¨è¿›å…¥ä¸´ç•ŒåŒºä¹‹å‰ï¼Œæ£€æŸ¥**å¯å¦è¿›å…¥**ä¸´ç•ŒåŒºçš„ä¸€æ®µä»£ç ã€‚å¦‚æžœå¯ä»¥è¿›å…¥ä¸´ç•ŒåŒºï¼Œé€šå¸¸è®¾ç½®ç›¸åº”â€œæ­£åœ¨è®¿é—®ä¸´ç•ŒåŒºâ€æ ‡å¿—ã€‚  &#10;&gt; **é€€å‡ºåŒº(exit section)**ï¼šç”¨äºŽå°†&quot;æ­£åœ¨è®¿é—®ä¸´ç•ŒåŒº&quot;æ ‡å¿—æ¸…é™¤ã€‚  &#10;&gt; **å‰©ä½™åŒº(remainder section)**ï¼šä»£ç ä¸­çš„å…¶ä½™éƒ¨åˆ†ã€‚&#10;&#10;**ä¸´ç•ŒåŒºé—®é¢˜çš„è§£å†³æ–¹æ¡ˆåº”æ»¡è¶³ä»¥ä¸‹ä¸‰æ¡è¦æ±‚**&#10;&#10;&gt; **äº’æ–¥Mutual&#10;&gt; Exclusion**ã€‚å‡å®šè¿›ç¨‹*Pi*åœ¨å…¶ä¸´ç•ŒåŒºå†…æ‰§è¡Œï¼Œå…¶ä»–ä»»ä½•è¿›ç¨‹å°†è¢«æŽ’æ–¥åœ¨è‡ªå·±çš„ä¸´ç•ŒåŒºä¹‹å¤–&#10;&gt;&#10;&gt; **æœ‰ç©ºè®©è¿›&#10;&gt; Progress**ã€‚ä¸´ç•ŒåŒºè™½æ²¡æœ‰è¿›ç¨‹æ‰§è¡Œï¼Œä½†æœ‰äº›è¿›ç¨‹éœ€è¦è¿›å…¥ä¸´ç•ŒåŒºï¼Œä¸èƒ½æ— é™æœŸåœ°å»¶é•¿ä¸‹ä¸€ä¸ªè¦è¿›å…¥ä¸´ç•ŒåŒºè¿›ç¨‹çš„ç­‰å¾…æ—¶é—´.&#10;&gt;&#10;&gt; **æœ‰é™ç­‰å¾…Bounded&#10;&gt; Waiting**ã€‚åœ¨ä¸€ä¸ªè¿›ç¨‹æå‡ºè¿›å…¥ä¸´ç•ŒåŒºçš„è¯·æ±‚å’Œè¯¥è¯·æ±‚å¾—åˆ°ç­”å¤çš„æ—¶é—´å†…ï¼Œå…¶ä»–è¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºçš„æ¬¡æ•°å¿…é¡»æ˜¯æœ‰é™çš„&#10;&#10;å¦ä¸€ç§è¡¨è¿°(è€ƒç ”æ¦‚å¿µ)&#10;&#10;&gt; **ç©ºé—²åˆ™å…¥**ï¼šå…¶ä»–è¿›ç¨‹å‡ä¸å¤„äºŽä¸´ç•ŒåŒºï¼Œåˆ™å…è®¸ä¸€ä¸ªè¯·æ±‚è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹ç«‹å³è¿›å…¥è‡ªå·±çš„ä¸´ç•ŒåŒº&#10;&gt;&#10;&gt; **å¿™åˆ™ç­‰å¾…**ï¼šå·²æœ‰è¿›ç¨‹å¤„äºŽå…¶ä¸´ç•ŒåŒºï¼Œåˆ™å…¶ä»–è¿›ç¨‹æ— æ³•è¿›å…¥&#10;&gt;&#10;&gt; **æœ‰é™ç­‰å¾…**ï¼šç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹ä¸èƒ½&quot;æ­»ç­‰&quot;ï¼›&#10;&gt;&#10;&gt; **è®©æƒç­‰å¾…**ï¼šä¸èƒ½è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹ï¼Œåº”é‡Šæ”¾CPUï¼ˆå¦‚è½¬æ¢åˆ°é˜»å¡žçŠ¶æ€ï¼‰">
  </outline>
  <outline text="ä¸¤è¿›ç¨‹äº’æ–¥çš„è½¯ä»¶æ–¹æ³•">
    <outline text="ç®—æ³•ä¸€" _note="**ç¼ºç‚¹**ï¼š&#10;&#10;&gt; å¼ºåˆ¶è½®æµè¿›å…¥ä¸´ç•ŒåŒºï¼Œæ²¡æœ‰è€ƒè™‘è¿›ç¨‹çš„å®žé™…éœ€è¦ã€‚å®¹æ˜“é€ æˆèµ„æºåˆ©ç”¨ä¸å……åˆ†ï¼šåœ¨è¿›ç¨‹1è®©å‡ºä¸´ç•ŒåŒºä¹‹åŽï¼Œè¿›ç¨‹2ä½¿ç”¨ä¸´ç•ŒåŒºä¹‹å‰ï¼Œè¿›ç¨‹1ä¸å¯èƒ½å†æ¬¡ä½¿ç”¨ä¸´ç•ŒåŒºï¼›&#10;&gt;&#10;&gt; ä¸èƒ½ä¿è¯ç©ºé—²è®©è¿›">
    </outline>
    <outline text="ç®—æ³•äºŒ" _note="**ä¼˜ç‚¹**ï¼šä¸ç”¨äº¤æ›¿è¿›å…¥ï¼Œå¯è¿žç»­ä½¿ç”¨ï¼›&#10;&#10;**ç¼ºç‚¹**ï¼š&#10;&#10;&gt; ä¸¤è¿›ç¨‹å¯èƒ½éƒ½è¿›å…¥ä¸äº†ä¸´ç•ŒåŒºï¼Œä¼šé€ æˆ&quot;æ­»ç­‰&quot;&#10;&gt;&#10;&gt; Piå’ŒPjåœ¨**åˆ‡æ¢è‡ªå·±flagä¹‹åŽå’Œæ£€æŸ¥å¯¹æ–¹flagä¹‹å‰**æœ‰ä¸€æ®µæ—¶é—´ï¼Œå¦‚æžœéƒ½åˆ‡æ¢flagï¼Œéƒ½æ£€æŸ¥ä¸é€šè¿‡ã€‚">
    </outline>
    <outline text="ç®—æ³•ä¸‰" _note="">
    </outline>
  </outline>
  <outline text="Synchronization Hardware ï¼ˆåŒæ­¥çš„ç¡¬ä»¶å®žçŽ°ï¼‰" _note="ç¡¬ä»¶æ–¹æ³•çš„**ä¼˜ç‚¹**&#10;&#10;&gt; é€‚ç”¨äºŽä»»æ„æ•°ç›®çš„è¿›ç¨‹ï¼Œåœ¨å•å¤„ç†å™¨æˆ–å¤šå¤„ç†å™¨ä¸Š&#10;&gt;&#10;&gt; ç®€å•ï¼Œå®¹æ˜“éªŒè¯å…¶æ­£ç¡®æ€§&#10;&gt;&#10;&gt; å¯ä»¥æ”¯æŒè¿›ç¨‹å†…å­˜åœ¨å¤šä¸ªä¸´ç•ŒåŒºï¼Œåªéœ€ä¸ºæ¯ä¸ªä¸´ç•ŒåŒºè®¾ç«‹ä¸€ä¸ªå¸ƒå°”å˜é‡&#10;&#10;ç¡¬ä»¶æ–¹æ³•çš„**ç¼ºç‚¹**&#10;&#10;&gt; ç­‰å¾…è¦è€—è´¹CPUæ—¶é—´ï¼Œä¸èƒ½å®žçŽ°&quot;è®©æƒç­‰å¾…&quot;&#10;&gt;&#10;&gt; å¯èƒ½&quot;é¥¥é¥¿&quot;ï¼šä»Žç­‰å¾…è¿›ç¨‹ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªè¿›å…¥ä¸´ç•ŒåŒºï¼Œæœ‰çš„è¿›ç¨‹å¯èƒ½ä¸€ç›´é€‰ä¸ä¸Š">
  </outline>
  <outline text="Semaphores ï¼ˆä¿¡å·é‡ï¼‰[é‡ä¸­ä¹‹é‡]" _note="å‰é¢çš„äº’æ–¥ç®—æ³•éƒ½å­˜åœ¨é—®é¢˜ï¼Œå®ƒä»¬æ˜¯å¹³ç­‰è¿›ç¨‹é—´çš„ä¸€ç§åå•†æœºåˆ¶ï¼Œéœ€è¦ä¸€ä¸ª**åœ°ä½é«˜äºŽè¿›ç¨‹çš„ç®¡ç†è€…æ¥è§£å†³å…¬æœ‰èµ„æºçš„ä½¿ç”¨é—®é¢˜**ã€‚OSå¯ä»Žè¿›ç¨‹ç®¡ç†è€…çš„è§’åº¦æ¥å¤„ç†äº’æ–¥çš„é—®é¢˜ï¼Œ**ä¿¡å·é‡**å°±æ˜¯OSæä¾›çš„ç®¡ç†å…¬æœ‰èµ„æºçš„æœ‰æ•ˆæ‰‹æ®µ&#10;&#10;&gt; ä¿¡å·é‡æ˜¯ä¸€ä¸ªç¡®å®šçš„äºŒå…ƒç»„ï¼ˆsï¼Œqï¼‰ï¼Œå…¶ä¸­sæ˜¯ä¸€ä¸ªå…·æœ‰éžè´Ÿåˆå€¼çš„æ•´åž‹å˜é‡ï¼Œqæ˜¯ä¸€ä¸ªåˆå§‹çŠ¶æ€ä¸ºç©ºçš„é˜Ÿåˆ—ã€‚&#10;&gt;&#10;&gt; æ•´åž‹å˜é‡sè¡¨ç¤ºç³»ç»Ÿä¸­æŸç±»èµ„æºçš„æ•°ç›®ï¼Œå¤§äºŽé›¶æ—¶è¡¨ç¤º**å½“å‰å¯ç”¨èµ„æºæ•°**ï¼Œå°äºŽé›¶æ—¶ï¼Œå…¶ç»å¯¹å€¼è¡¨ç¤ºå› **è¯·æ±‚è¯¥ç±»èµ„æºè€Œè¢«é˜»å¡ž**çš„èµ„æºæ•°&#10;&gt;&#10;&gt; ä¿¡å·é‡çš„å€¼ä»…ç”±Pæ“ä½œï¼ˆwaitæ“ä½œï¼‰å’ŒVæ“ä½œï¼ˆsignalæ“ä½œï¼‰è¿›è¡Œæ”¹å˜&#10;&#10;Pã€Våˆ†åˆ«æ˜¯è·å…°è¯­çš„test(proberen)å’Œincrement(verhogen)&#10;&#10;ä¼šå­˜åœ¨å¿™ç­‰â€”â€”è‡ªæ—‹é”:è¿›ç¨‹åœ¨ç­‰å¾…é”æ—¶è‡ªæ—‹&#10;&#10;ä¸éœ€è¦å¿™ç­‰çš„æ”¹è¿›å¦‚ä¸‹ï¼š&#10;&#10;æ”¹è¿›å‰ä¿¡å·é‡ä¸ä¼šä¸ºè´Ÿæ•°ï¼Œæ”¹è¿›åŽä¸ºè´Ÿæ•°ï¼Œè€Œä¸”è´Ÿæ•°çš„ç»å¯¹å€¼ç­‰äºŽç­‰å¾…çš„è¿›ç¨‹æ•°&#10;&#10;**è®°å½•åž‹ä¿¡å·é‡**">
    <outline text="åˆ©ç”¨ä¿¡å·é‡å®žçŽ°äº’æ–¥" _note="ä¸ºä¸´ç•Œèµ„æºè®¾ç½®ä¸€ä¸ª**äº’æ–¥ä¿¡å·é‡**ï¼Œ**å…¶åˆå€¼ä¸º1**ï¼›&#10;&#10;`Semaphore S; // initialized toÂ·`&#10;&#10;åœ¨æ¯ä¸ªè¿›ç¨‹ä¸­å°†ä¸´ç•ŒåŒºä»£ç ç½®äºŽP(S)å’ŒV(S)åŽŸè¯­ä¹‹é—´&#10;&#10;      P(S);&#10;&#10;    	   CriticalSection()&#10;&#10;      V(S);">
    </outline>
    <outline text="åˆ©ç”¨ä¿¡å·é‡æ¥æè¿°å‰é©±å…³ç³»ï¼ˆåŒæ­¥ï¼‰" _note="å‰è¶‹å…³ç³»ï¼šå¹¶å‘æ‰§è¡Œçš„è¿›ç¨‹P1å’ŒP2ä¸­ï¼Œåˆ†åˆ«æœ‰ä»£ç C1å’ŒC2ï¼Œè¦æ±‚C1åœ¨C2å¼€å§‹å‰å®Œæˆï¼›&#10;&#10;ä¸ºæ¯ä¸ªå‰è¶‹å…³ç³»è®¾ç½®ä¸€ä¸ª**åŒæ­¥ä¿¡å·é‡**S12ï¼Œ**å…¶åˆå€¼ä¸º0**&#10;&#10;**æ–¹æ³•ï¼šå‰è¶‹å›¾**&#10;&#10;&gt; è‹¥å›¾ä¸­å­˜åœ¨ç»“ç‚¹S1æŒ‡å‘ç»“ç‚¹S2çš„æœ‰å‘è¾¹ï¼Œè¡¨ç¤ºè¿›ç¨‹P1ä¸­çš„ç¨‹åºæ®µS1åº”è¯¥å…ˆæ‰§è¡Œï¼Œè€Œè¿›ç¨‹P2ä¸­çš„ç¨‹åºæ®µS2åŽæ‰§è¡Œã€‚è®¾ç½®ä¸€ä¸ªä¿¡å·é‡s,åˆå€¼ä¸º0ï¼Œå°†V(s)æ”¾åœ¨S1åŽé¢ï¼Œè€Œåœ¨S2å‰é¢å…ˆæ‰§è¡ŒP(s)ã€‚&#10;&#10;è¿›ç¨‹P1çš„è¯­å¥åºåˆ—ä¸ºï¼šS1;V(s)&#10;&#10;è¿›ç¨‹P2çš„è¯­å¥åºåˆ—ä¸ºï¼šP(s);S2&#10;&#10;&gt; â­ï¸ å‰é¢çš„å…ˆå¢žåŠ äº†ï¼ŒåŽé¢çš„æ‰èƒ½å‡&#10;&#10;**ä¸¾ä¾‹**&#10;&#10;![](https://note-image-1307786938.cos.ap-beijing.myqcloud.com/typora/qshell/image-20211019164630044.png)&#10;&#10;![](https://note-image-1307786938.cos.ap-beijing.myqcloud.com/typora/qshell/image-20211019164907162.png)&#10;&#10;**ç¼ºç‚¹**&#10;&#10;å¯èƒ½ä¼šå¼•èµ·æ­»é”ä¸Žé¥¥é¥¿&#10;&#10;**ä¿¡å·é‡æœºåˆ¶**&#10;&#10;&gt; åŒæ­¥ã€äº’æ–¥çš„çº¦æŸæ¡ä»¶&#10;&gt;&#10;&gt; ä¸´ç•Œèµ„æºçš„æŠ½è±¡&#10;&gt;&#10;&gt; åˆå§‹æ¡ä»¶&#10;&gt;&#10;&gt; æ­£ç¡®çš„P-Væ“ä½œ">
    </outline>
  </outline>
  <outline text="Classical Problems of Synchronizationï¼ˆç»å…¸åŒæ­¥é—®é¢˜ï¼‰">
    <outline text="å“²å­¦å®¶å°±é¤é—®é¢˜Dining-Philosophers Problem" _note="é—®é¢˜æè¿°ï¼šï¼ˆç”±Dijkstraé¦–å…ˆæå‡ºå¹¶è§£å†³ï¼‰5ä¸ªå“²å­¦å®¶å›´ç»•ä¸€å¼ åœ†æ¡Œè€Œåï¼Œæ¡Œå­ä¸Šæ”¾ç€5æ”¯ç­·å­ï¼Œæ¯ä¸¤ä¸ªå“²å­¦å®¶ä¹‹é—´æ”¾ä¸€æ”¯ï¼›å“²å­¦å®¶çš„åŠ¨ä½œåŒ…æ‹¬æ€è€ƒå’Œè¿›é¤ï¼Œè¿›é¤æ—¶éœ€è¦åŒæ—¶æ‹¿èµ·ä»–å·¦è¾¹å’Œå³è¾¹çš„ä¸¤æ”¯ç­·å­ï¼Œæ€è€ƒæ—¶åˆ™åŒæ—¶å°†ä¸¤æ”¯ç­·å­æ”¾å›žåŽŸå¤„ã€‚å¦‚ä½•ä¿è¯å“²å­¦å®¶ä»¬çš„åŠ¨ä½œæœ‰åºè¿›è¡Œï¼Ÿå¦‚ï¼šä¸å‡ºçŽ°ç›¸é‚»è€…åŒæ—¶è¦æ±‚è¿›é¤ï¼›ä¸å‡ºçŽ°æœ‰äººæ°¸è¿œæ‹¿ä¸åˆ°ç­·å­ï¼›&#10;&#10;**ä¿¡å·é‡**&#10;&#10;ç­·å­æ˜¯ä¸´ç•Œèµ„æºï¼Œè®¾ç«‹ä¸€ä¸ªä¿¡å·é‡æ•°ç»„æ¥è¡¨ç¤ºç­·å­&#10;&#10;**äº’æ–¥é—®é¢˜**&#10;&#10;    Repeat&#10;        æ€è€ƒï¼›&#10;        å–chopStick[i];//æ‹¿èµ·å·¦æ‰‹è¾¹ç­·å­&#10;        å–chopStick[(i+1) mod 5]ï¼›//æ‹¿èµ·å³æ‰‹è¾¹ç­·å­&#10;        è¿›é£Ÿï¼›&#10;        æ”¾chopStick[i];&#10;        æ”¾chopStick[(i+1) mod 5]ï¼›&#10;    Until false;&#10;&#10;å¯èƒ½ä¼šå‡ºçŽ°æ­»é”ï¼Œäº”ä¸ªå“²å­¦å®¶æ¯äººæ‹¿èµ·äº†ä»–å·¦è¾¹çš„ç­·å­,ä¼šå¯¼è‡´äº”ä¸ªç­·å­éƒ½è¢«å ç”¨ï¼Œå½“ä»–ä»¬è¯•å›¾æ‹¿å³è¾¹çš„ç­·å­æ—¶ï¼Œä¼šâ€œæ— é™ç­‰å¾…â€&#10;&#10;**è§£å†³åŠžæ³•**&#10;&#10;&gt; æœ€å¤šå…è®¸å››ä¸ªå“²å­¦å®¶åŒæ—¶å°±å&#10;&gt;&#10;&gt; åŒæ—¶æ‹¿èµ·ä¸¤æ ¹ç­·å­&#10;&gt;&#10;&gt; éžå¯¹ç§°è§£å†³â€”â€”å¥‡å¶äº¤æ›¿æ‹¿">
    </outline>
    <outline text="ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜" _note="é—®é¢˜æè¿°ï¼šè‹¥å¹²è¿›ç¨‹é€šè¿‡æœ‰é™çš„å…±äº«ç¼“å†²åŒºäº¤æ¢æ•°æ®ã€‚å…¶ä¸­ï¼Œ&quot;ç”Ÿäº§è€…&quot;è¿›ç¨‹ä¸æ–­å†™å…¥ï¼Œè€Œ&quot;æ¶ˆè´¹è€…&quot;è¿›ç¨‹ä¸æ–­è¯»å‡ºï¼›å…±äº«ç¼“å†²åŒºå…±æœ‰Nä¸ªï¼›ä»»ä½•æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹å¯å¯¹å…±äº«ç¼“å†²åŒºè¿›è¡Œæ“ä½œã€‚&#10;&#10;![](https://note-image-1307786938.cos.ap-beijing.myqcloud.com/typora/qshell/image-20211019170423348.png)&#10;&#10;é‡‡ç”¨ä¿¡å·é‡æœºåˆ¶ï¼š&#10;&#10;&gt; è®¾ç«‹ä¸¤ä¸ªåŒæ­¥ä¿¡å·é‡ï¼šfullæ˜¯&quot;æ»¡&quot;æ•°ç›®ï¼Œåˆå€¼ä¸º0&#10;&gt; ï¼Œemptyæ˜¯&quot;ç©º&quot;æ•°ç›®ï¼Œåˆå€¼ä¸ºNã€‚å®žé™…ä¸Šï¼Œfull + empty == N&#10;&gt;&#10;&gt; mutexç”¨äºŽè®¿é—®ç¼“å†²åŒºæ—¶çš„äº’æ–¥ï¼Œåˆå€¼æ˜¯1&#10;&gt;&#10;&gt; æ¯ä¸ªè¿›ç¨‹ä¸­å„ä¸ªPæ“ä½œçš„æ¬¡åºæ˜¯é‡è¦çš„ï¼š**å…ˆæ£€æŸ¥èµ„æºæ•°ç›®ï¼Œå†æ£€æŸ¥æ˜¯å¦äº’æ–¥**â€•â€•å¦åˆ™å¯èƒ½æ­»é”&#10;&#10;&gt; ðŸ·**æ³¨æ„**ï¼&#10;&gt;&#10;&gt; P(full)/P(empty)ä¸ŽP(mutex)çš„é¡ºåºä¸å¯é¢ å€’ï¼Œå¿…é¡»å…ˆå¯¹èµ„æºä¿¡å·é‡è¿›è¡ŒPæ“ä½œï¼Œåœ¨å¯¹äº’æ–¥ä¿¡å·é‡è¿›è¡ŒPæ“ä½œï¼Œå¦åˆ™ä¼šäº§ç”Ÿæ­»é”&#10;&gt;&#10;&gt; ä¾‹å¦‚ï¼Œæ­¤æ—¶ç¼“å†²åŒºå·²æ»¡ï¼Œè€Œç”Ÿäº§è€…å…ˆPï¼ˆmutexï¼‰ï¼Œåœ¨Pï¼ˆemptyï¼‰ï¼Œç”±äºŽæ­¤æ—¶emptyä¸º0ï¼Œå¯¼è‡´å¤±è´¥ï¼Œç”Ÿäº§è€…è¿›ç¨‹æ— æ³•ç»§ç»­è¿›è¡Œï¼Œå§‹ç»ˆæŽŒæ¡ç¼“å†²æ± è®¿é—®æƒæ— æ³•é‡Šæ”¾ï¼Œå› è€Œæ¶ˆè´¹è€…æ— æ³•å–å‡ºäº§å“ï¼Œå¯¼è‡´æ­»é”ï¼ŒVæ“ä½œåˆ™æ²¡æœ‰é™åˆ¶&#10;&gt;&#10;&gt; æ€»ç»“æ¥è¯´ï¼Œåœ¨æœ‰å¤šä¸ªä¿¡å·é‡åŒæ—¶å­˜åœ¨çš„æƒ…å†µä¸‹ï¼ŒPæ“ä½œå¾€å¾€æ˜¯ä¸èƒ½é¢ å€’é¡ºåºçš„ï¼Œå¿…é¡»å…ˆå¯¹èµ„æºä¿¡å·é‡è¿›è¡ŒPæ“ä½œå†å¯¹äº’æ–¥ä¿¡å·é‡è¿›è¡ŒPæ“ä½œï¼Œè¿™æ ·æ‰èƒ½ä¿è¯åœ¨å æœ‰ä¿¡å·é‡è®¿é—®æƒæ—¶ä¿è¯èµ„æºå¯ä»¥ä½¿ç”¨">
    </outline>
    <outline text="è¯»è€…å†™è€…é—®é¢˜Readers and Writers Problem" _note="&#10;é—®é¢˜æè¿°ï¼šå¯¹å…±äº«èµ„æºçš„è¯»å†™æ“ä½œï¼Œä»»ä¸€æ—¶åˆ»â€œå†™è€…â€æœ€å¤šåªå…è®¸ä¸€ä¸ªï¼Œè€Œâ€œè¯»è€…â€åˆ™å…è®¸å¤šä¸ª&#10;&#10;â€“â€œè¯»ï¼å†™â€äº’æ–¥ï¼Œâ€“â€œå†™ï¼å†™â€äº’æ–¥ï¼Œâ€“&quot;è¯»ï¼è¯»&quot;å…è®¸&#10;&#10;å¦‚æžœè¯»è€…æ¥ï¼š&#10;&#10;&gt; æ— è¯»è€…ã€å†™è€…ï¼Œæ–°è¯»è€…å¯ä»¥è¯»&#10;&gt;&#10;&gt; æœ‰å†™è€…ç­‰ï¼Œä½†æœ‰å…¶å®ƒè¯»è€…æ­£åœ¨è¯»ï¼Œåˆ™æ–°è¯»è€…ä¹Ÿå¯ä»¥è¯»&#10;&gt;&#10;&gt; æœ‰å†™è€…å†™ï¼Œæ–°è¯»è€…ç­‰&#10;&#10;å¦‚æžœå†™è€…æ¥ï¼š&#10;&#10;&gt; æ— è¯»è€…ï¼Œæ–°å†™è€…å¯ä»¥å†™&#10;&gt;&#10;&gt; æœ‰è¯»è€…ï¼Œæ–°å†™è€…ç­‰å¾…ï¼ˆè¯»è€…ä¼˜å…ˆï¼‰&#10;&gt;&#10;&gt; æœ‰å…¶å®ƒå†™è€…ï¼Œæ–°å†™è€…ç­‰å¾…&#10;&#10;å¯¹å†™è€…èµ·å†³å®šä½œç”¨çš„æ˜¯ç¬¬ä¸€ä¸ªè¯»è€…å’Œæœ€åŽä¸€ä¸ªè¯»è€…&#10;&#10;**é‡‡ç”¨ä¿¡å·é‡æœºåˆ¶**&#10;&#10;&gt; ä¿¡å·é‡mutexè¡¨ç¤º&quot;å…è®¸å†™&quot;ï¼Œåˆå€¼æ˜¯1ã€‚&#10;&gt;&#10;&gt; å…¬å…±å˜é‡Rcountè¡¨ç¤ºâ€œæ­£åœ¨è¯»â€çš„è¿›ç¨‹æ•°ï¼Œåˆå€¼æ˜¯0ï¼›&#10;&gt;&#10;&gt; ä¿¡å·é‡Rmutexè¡¨ç¤ºå¯¹Rcountçš„äº’æ–¥æ“ä½œï¼Œåˆå€¼æ˜¯1ã€‚">
      <outline text="å†™è€…ä¼˜å…ˆ" _note="    //è¯»å†™é—®é¢˜â€”â€”å†™è€…ä¼˜å…ˆ&#10;    reader(){&#10;    	while(true){&#10;    		P(Rmutex);//ä¿æŠ¤Rcount&#10;    		if(Rcount==0)&#10;    			P(mutex);//ç¬¬ä¸€ä¸ªè¯»è€…ï¼Œé˜»æ­¢å†™å…¥&#10;    		Rcount++;&#10;    		V(Rmutex);//å…è®¸å…¶ä»–è¯»è€…è¯»&#10;    		read;&#10;    		P(Rmutex);//ä¿æŠ¤Rcount&#10;    		Rcount--;&#10;    		if(Rcount==0)&#10;    			V(mutex);//å…è®¸å†™å…¥&#10;    		V(Rmutex);//å…è®¸å…¶ä»–è¯»è€…è¯»&#10;    	}		&#10;    }&#10;    writer(){&#10;    	P(mutex);//å¯¹å†™è¿›è¡ŒæŽ§åˆ¶&#10;    	write;&#10;    	V(mutex);&#10;    }">
      </outline>
      <outline text="å…¬å¹³æƒ…å†µ" _note="å®Œå…¨æŒ‰ç…§åˆ°è¾¾æƒ…å†µï¼Œå³å½“ä¸€ä¸ªè¯»è€…è¯•å›¾è¿›è¡Œè¯»æ“ä½œæ—¶ï¼Œå¦‚æžœæœ‰å†™è€…æ­£åœ¨ç­‰å¾…æˆ–æ­£åœ¨å†™ï¼Œé‚£è¿™ä¸ªè¯»è€…éœ€è¦ç­‰å¾…å†™ç€å†™å®Œæ‰èƒ½å¼€å§‹&#10;&#10;å› æ­¤éœ€è¦å¼•å…¥ä¸€ä¸ªäº’æ–¥ä¿¡å·é‡Wmutexï¼Œåˆå§‹å€¼ä¸º1ï¼Œç”¨äºŽè¡¨ç¤ºæ˜¯å¦å­˜åœ¨æ­£åœ¨å†™æˆ–è€…æ­£åœ¨ç­‰å¾…çš„å†™è€…ï¼Œè‹¥å­˜åœ¨åˆ™ç¦æ­¢æ–°è¯»è€…è¿›å…¥&#10;&#10;    //è¯»å†™é—®é¢˜â€”â€”å…¬å¹³æƒ…å†µ&#10;    reader(){&#10;    	while(true){&#10;    		P(Wmutex);//æ˜¯å¦æœ‰å†™è€…å­˜åœ¨ï¼Œæ— å†™è€…ç›´æŽ¥è¿›å…¥&#10;    		P(Rmutex);//ä¿æŠ¤Rcount&#10;    		if(Rcount==0)&#10;    			P(mutex);//ç¬¬ä¸€ä¸ªè¯»è€…ï¼Œé˜»æ­¢å†™å…¥&#10;    		Rcount++;&#10;    		V(Rmutex);//å…è®¸å…¶ä»–è¯»è€…è¯»&#10;    		V(Wmutex);//é‡Šæ”¾Wmutex&#10;    		read;&#10;    		P(Rmutex);//ä¿æŠ¤Rcount&#10;    		Rcount--;&#10;    		if(Rcount==0)&#10;    			V(mutex);//å…è®¸å†™å…¥&#10;    		V(Rmutex);//å…è®¸å…¶ä»–è¯»è€…è¯»&#10;    	}		&#10;    }&#10;    writer(){&#10;    	P(Wmutex);//æ˜¯å¦æœ‰å†™è€…å­˜åœ¨ï¼Œæ— å†™è€…ç›´æŽ¥è¿›å…¥&#10;    	P(mutex);//å¯¹å†™è¿›è¡ŒæŽ§åˆ¶&#10;    	write;&#10;    	V(mutex);&#10;    	V(Wmutex);&#10;    }">
      </outline>
      <outline text="å†™è€…ä¼˜å…ˆ" _note="è¦å®žçŽ°çœŸæ­£çš„å†™è€…ä¼˜å…ˆï¼Œå³å½“å†™è€…å’Œè¯»è€…åŒæ—¶ç­‰å¾…æ—¶ï¼ŒåŽç»­å†™è€…åˆ°è¾¾æ—¶å¯ä»¥æ’é˜Ÿåˆ°ç­‰å¾…çš„è¯»è€…å‰é¢ï¼Œåªè¦é˜Ÿåˆ—ä¸­æœ‰å†™è€…ï¼Œæ— è®ºä½•æ—¶åˆ°è¾¾ï¼Œéƒ½ä¼˜å…ˆäºŽè¯»è€…è¢«å”¤é†’ï¼Œéœ€è¦è®¾ç½®é¢å¤–çš„ä¿¡å·é‡readableï¼Œç”¨äºŽæŽ§åˆ¶å†™è€…åˆ°è¾¾æ—¶å¯ä»¥ä¼˜å…ˆäºŽè¯»è€…ï¼ŒåŒæ—¶è¦å¢žè®¾ä¸€ä¸ªæ•´æ•°Wcountç”¨äºŽç»Ÿè®¡å†™è€…çš„æ•°é‡ã€‚ä¸Žä¹‹å‰çš„ç®—æ³•ç›¸æ¯”ï¼ŒWmutexçš„ä½œç”¨æœ‰æ‰€å˜åŒ–ï¼ŒçŽ°åœ¨ç”¨äºŽæŽ§åˆ¶å†™è€…äº’æ–¥è®¿é—®Wcount&#10;&#10;    semaphore mutex=1;//æŽ§åˆ¶äº’æ–¥è®¿é—®æ•°æ®åŒº&#10;    semaphore Rmutex=1;//ç”¨äºŽè¯»è€…äº’æ–¥è®¿é—®Rcount&#10;    semaphore Wmutex=1;//ç”¨äºŽå†™è€…äº’æ–¥è®¿é—®Wcount&#10;    semaphore readable=1;//ç”¨äºŽè¡¨ç¤ºå½“å‰æ˜¯å¦æœ‰å†™è€…&#10;    int Rcount=0,Wcount=0;//è®°å½•è¯»è€…å’Œå†™è€…çš„æ•°é‡&#10;    reader(){&#10;    	P(readable);//æ£€æŸ¥æ˜¯å¦æœ‰å†™è€…ï¼Œæ²¡æœ‰æ‰è¿›å…¥ï¼Œåæ˜ äº†å†™è€…ä¼˜å…ˆçš„åŽŸåˆ™&#10;    	P(Rmutex);//ä¿æŠ¤Rcount&#10;    	if(Rcount==0)&#10;    		P(mutex);//ç¬¬ä¸€ä¸ªè¯»è€…ï¼Œå ç”¨æ•°æ®åŒº&#10;    	Rcount++;&#10;    	V(Rmutex);//å…è®¸å…¶ä»–è¯»è€…è¯»&#10;    	V(readable);//é‡Šæ”¾readable&#10;    	read;&#10;    	P(Rmutex);//ä¿æŠ¤Rcount&#10;    	Rcount--;&#10;    	if(Rcount==0)&#10;    		V(mutex);//é‡Šæ”¾æ•°æ®åŒº&#10;    	V(Rmutex);//å…è®¸å…¶ä»–è¯»è€…è¯» &#10;    }&#10;    writer(){&#10;    	P(Wmutex);//å‡†å¤‡ä¿®æ”¹Wcount&#10;    	if(Wcount==0)&#10;    		P(readable);//ç¬¬ä¸€ä¸ªå†™è€…ï¼Œç»„ç»‡åŽç»­è¯»è€…è¿›å…¥&#10;    	Wcount++;//å†™è€…æ•°+1&#10;    	V(Wmutex);//é‡Šæ”¾ï¼Œå…è®¸å…¶ä»–å†™è€…ä¿®æ”¹Wcount&#10;    	P(mutex);//ç­‰å½“å‰çš„è¯»è€…æˆ–å†™è€…å®Œæˆæ—¶ï¼Œå ç”¨æ•°æ®åŒº&#10;    	å†™æ“ä½œï¼›&#10;    	V(mutex);//å†™å®Œï¼Œé‡Šæ”¾æ•°æ®åŒº&#10;    	p(Wmutex);//å‡†å¤‡ä¿®æ”¹Wcount&#10;    	Wcount--;&#10;    	if(Wcount==0)&#10;    		V(readable==0);//è‹¥ä¸ºæœ€åŽä¸€ä¸ªå†™è€…ï¼Œåˆ™å…è®¸è¯»è€…è¿›å…¥&#10;    	V(Wmutex);&#10;    }">
      </outline>
    </outline>
    <outline text="PVæ“ä½œè®¨è®º" _note="ä¿¡å·é‡çš„ç‰©ç†å«ä¹‰ï¼š&#10;&#10;&gt; S&amp;gt;0è¡¨ç¤ºæœ‰Sä¸ªèµ„æºå¯ç”¨&#10;&gt;&#10;&gt; S=0è¡¨ç¤ºæ— èµ„æºå¯ç”¨&#10;&gt;&#10;&gt; S&amp;lt;0åˆ™| S |è¡¨ç¤ºSç­‰å¾…é˜Ÿåˆ—ä¸­çš„è¿›ç¨‹ä¸ªæ•°&#10;&gt;&#10;&gt; P(S):è¡¨ç¤ºç”³è¯·ä¸€ä¸ªèµ„æº&#10;&gt;&#10;&gt; V(S):è¡¨ç¤ºé‡Šæ”¾ä¸€ä¸ªèµ„æºã€‚&#10;&gt;&#10;&gt; ä¿¡å·é‡çš„åˆå€¼åº”è¯¥å¤§äºŽç­‰äºŽ0&#10;&#10;**PVæ“ä½œå¿…é¡»æˆå¯¹å‡ºçŽ°ï¼Œæœ‰ä¸€ä¸ªPæ“ä½œå°±ä¸€å®šæœ‰ä¸€ä¸ªVæ“ä½œ**&#10;&#10;&gt; å½“ä¸ºäº’æ–¥æ“ä½œæ—¶ï¼Œå®ƒä»¬å¤„äºŽåŒä¸€è¿›ç¨‹&#10;&gt;&#10;&gt; å½“ä¸ºåŒæ­¥æ“ä½œæ—¶ï¼Œåˆ™ä¸åœ¨åŒä¸€è¿›ç¨‹ä¸­å‡ºçŽ°&#10;&gt;&#10;&gt; å¯¹äºŽå‰åŽç›¸è¿žçš„ä¸¤ä¸ªP(S1)å’ŒP(S2)&#10;&gt; ï¼Œé¡ºåºæ˜¯è‡³å…³é‡è¦çš„:åŒæ­¥Pæ“ä½œåº”è¯¥æ”¾åœ¨äº’æ–¥Pæ“ä½œå‰,è€Œä¸¤ä¸ªVæ“ä½œé¡ºåºåˆ™æ— å…³ç´§è¦">
    </outline>
  </outline>
  <outline text="ä¿¡å·é‡é›†">
    <outline text="ANDä¿¡å·é‡é›†" _note="ANDåž‹ä¿¡å·é‡é›†ç”¨äºŽåŒæ—¶éœ€è¦å¤šç§èµ„æºä¸”æ¯ç§å ç”¨ä¸€ä¸ªæ—¶çš„ä¿¡å·é‡æ“ä½œï¼›&#10;&#10;â€¢ä¸€æ®µå¤„ç†ä»£ç éœ€è¦åŒæ—¶èŽ·å–ä¸¤ä¸ªæˆ–å¤šä¸ªä¸´ç•Œèµ„æºâ€•â€•å¯èƒ½æ­»é”ï¼šå„è¿›ç¨‹åˆ†åˆ«èŽ·å¾—éƒ¨åˆ†ä¸´ç•Œèµ„æºï¼Œç„¶åŽç­‰å¾…å…¶ä½™çš„ä¸´ç•Œèµ„æºï¼Œ&quot;å„ä¸ç›¸è®©&quot;&#10;&#10;â€¢åŸºæœ¬æ€æƒ³ï¼šåœ¨ä¸€ä¸ªåŽŸè¯­ä¸­ï¼Œå°†ä¸€æ®µä»£ç åŒæ—¶éœ€è¦çš„å¤šä¸ªä¸´ç•Œèµ„æºï¼Œ**è¦ä¹ˆå…¨éƒ¨åˆ†é…ç»™å®ƒï¼Œè¦ä¹ˆä¸€ä¸ªéƒ½ä¸åˆ†é…**ã€‚ç§°ä¸ºSwait(Simultaneous&#10;Wait)ã€‚åœ¨Swaitæ—¶ï¼Œå„ä¸ªä¿¡å·é‡çš„æ¬¡åºå¹¶ä¸é‡è¦ï¼Œè™½ç„¶ä¼šå½±å“è¿›ç¨‹å½’å…¥å“ªä¸ªé˜»å¡žé˜Ÿåˆ—ï¼Œä½†æ˜¯ç”±äºŽæ˜¯å¯¹èµ„æºå…¨éƒ¨åˆ†é…æˆ–ä¸åˆ†é…ï¼Œæ‰€ä»¥æ€»æœ‰è¿›ç¨‹èŽ·å¾—å…¨éƒ¨èµ„æºå¹¶åœ¨æŽ¨è¿›ä¹‹åŽé‡Šæ”¾èµ„æºï¼Œå› æ­¤ä¸ä¼šæ­»é”ã€‚&#10;&#10;     Swait(S1, S2, â€¦, Sn)	//PåŽŸè¯­ï¼›&#10;     {&#10;     while (TRUE)&#10;     {&#10;          if (S1 &gt;=1 &amp;&amp; S2 &gt;= 1 &amp;&amp; â€¦ &amp;&amp; Sn &gt;= 1)&#10;      {		//æ»¡è¶³èµ„æºè¦æ±‚æ—¶çš„å¤„ç†ï¼›&#10;            for (i = 1; i &lt;= n; ++i)  --Si;	&#10;               //æ³¨ï¼šä¸Žwaitçš„å¤„ç†ä¸åŒï¼Œè¿™é‡Œæ˜¯åœ¨ç¡®ä¿¡å¯æ»¡è¶³&#10;               //å…¨éƒ¨èµ„æºè¦æ±‚æ—¶ï¼Œæ‰è¿›è¡Œå‡1æ“ä½œï¼›&#10;            break;&#10;          }&#10;      else&#10;      {    //æŸäº›èµ„æºä¸å¤Ÿæ—¶çš„å¤„ç†ï¼›&#10;            è¿›ç¨‹è¿›å…¥ç¬¬ä¸€ä¸ªå°äºŽ1ä¿¡å·é‡çš„ç­‰å¾…é˜Ÿåˆ—Sj.queue;&#10;            é˜»å¡žè°ƒç”¨è¿›ç¨‹;&#10;          }&#10;     }&#10;     }&#10;    Ssignal(S1, S2, â€¦, Sn)&#10;     {&#10;       for (i = 1; i &lt;= n; ++i)&#10;       {&#10;         ++Si;		//é‡Šæ”¾å ç”¨çš„èµ„æºï¼›&#10;         for (each process P waiting in Si.queue)&#10;               //æ£€æŸ¥æ¯ç§èµ„æºçš„ç­‰å¾…é˜Ÿåˆ—ï¼›&#10;         {&#10;           ä»Žç­‰å¾…é˜Ÿåˆ—Si.queueä¸­å–å‡ºè¿›ç¨‹P;&#10;           if (åˆ¤æ–­è¿›ç¨‹Pæ˜¯å¦é€šè¿‡Swaitä¸­çš„æµ‹è¯•)&#10;                //æ³¨ï¼šä¸Žsignalä¸åŒï¼Œè¿™é‡Œè¦è¿›è¡Œé‡æ–°åˆ¤æ–­ï¼›&#10;               {	//é€šè¿‡æ£€æŸ¥ï¼ˆèµ„æºå¤Ÿç”¨ï¼‰æ—¶çš„å¤„ç†ï¼›&#10;     	è¿›ç¨‹Pè¿›å…¥å°±ç»ªé˜Ÿåˆ—;&#10;               }&#10;           else&#10;               {	//æœªé€šè¿‡æ£€æŸ¥ï¼ˆèµ„æºä¸å¤Ÿç”¨ï¼‰æ—¶çš„å¤„ç†ï¼›&#10;     	è¿›ç¨‹Pè¿›å…¥æŸç­‰å¾…é˜Ÿåˆ—ï¼›&#10;               }&#10;         }&#10;       }&#10;     }">
    </outline>
    <outline text="ä¸€èˆ¬â€œä¿¡å·é‡é›†â€" _note="-   ä¸€èˆ¬ä¿¡å·é‡é›†ç”¨äºŽåŒæ—¶éœ€è¦å¤šç§èµ„æºã€æ¯ç§å ç”¨çš„æ•°ç›®ä¸åŒã€ä¸”å¯åˆ†é…çš„èµ„æºè¿˜å­˜åœ¨ä¸€ä¸ªä¸´ç•Œå€¼æ—¶çš„å¤„ç†ï¼›&#10;&#10;-   ä¸€æ¬¡éœ€è¦Nä¸ªæŸç±»ä¸´ç•Œèµ„æºæ—¶ï¼Œå°±è¦è¿›è¡ŒNæ¬¡waitæ“ä½œï¼ï¼ä½Žæ•ˆåˆå¯èƒ½æ­»é”&#10;&#10;-   åŸºæœ¬æ€æƒ³ï¼šåœ¨ANDåž‹ä¿¡å·é‡é›†çš„åŸºç¡€ä¸Šè¿›è¡Œæ‰©å……ï¼šè¿›ç¨‹å¯¹ä¿¡å·é‡Siçš„æµ‹è¯•å€¼ä¸ºtiï¼ˆç”¨äºŽä¿¡å·é‡çš„åˆ¤æ–­ï¼Œå³Si &amp;gt;=&#10;    tiï¼Œè¡¨ç¤ºèµ„æºæ•°é‡ä½ŽäºŽtiæ—¶ï¼Œä¾¿ä¸äºˆåˆ†é…ï¼‰ï¼Œå ç”¨å€¼ä¸ºdiï¼ˆç”¨äºŽä¿¡å·é‡çš„å¢žå‡ï¼Œå³Si&#10;    = Si - diå’ŒSi = Si + diï¼‰&#10;&#10;-   Swait(S1, t1, d1; ...; Sn, tn, dn);&#10;&#10;-   Ssignal(S1, d1; ...; Sn, dn);&#10;&#10;-   ä¸€èˆ¬â€œä¿¡å·é‡é›†â€çš„å‡ ç§ç‰¹æ®Šæƒ…å†µï¼š&#10;&#10;    &gt; Swait(S, d, d)è¡¨ç¤ºæ¯æ¬¡ç”³è¯·dä¸ªèµ„æºï¼Œå½“å°‘äºŽdä¸ªæ—¶ï¼Œä¾¿ä¸åˆ†é…ï¼›&#10;    &gt;&#10;    &gt; Swait(S, 1, 1)è¡¨ç¤ºäº’æ–¥ä¿¡å·é‡ï¼›&#10;    &gt;&#10;    &gt; Swait(S, 1, 0)ä½œä¸ºä¸€ä¸ªå¯æŽ§å¼€å…³&#10;    &gt;&#10;    &gt; &gt; å½“S&amp;gt;=1æ—¶ï¼Œå…è®¸å¤šä¸ªè¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºï¼›&#10;    &gt; &gt;&#10;    &gt; &gt; å½“S=0æ—¶ï¼Œç¦æ­¢ä»»ä½•è¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºï¼›&#10;&#10;    ä¸€èˆ¬ä¿¡å·é‡é›†æœªå¿…æˆå¯¹ä½¿ç”¨Swaitå’ŒSsignalï¼šå¦‚ï¼šä¸€èµ·ç”³è¯·ï¼Œä½†ä¸ä¸€èµ·é‡Šæ”¾ï¼›">
    </outline>
  </outline>
  <outline text="Monitors ï¼ˆç®¡ç¨‹ï¼‰[äº†è§£]">
    <outline text="åŸºæœ¬æ¦‚å¿µ" _note="**ç®¡ç¨‹**æ˜¯æŠŠæ‰€æœ‰è¿›ç¨‹å¯¹æŸä¸€ä¸´ç•Œèµ„æºçš„ä½¿ç”¨è¿›è¡Œé›†ä¸­æŽ§åˆ¶ï¼Œä»¥æé«˜å¯é æ€§ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œç®¡ç¨‹æ¯”ä¿¡å·é‡å¥½æŽ§åˆ¶ã€‚ç®¡ç¨‹æ˜¯ç®¡ç†è¿›ç¨‹é—´åŒæ­¥çš„æœºåˆ¶ï¼Œå®ƒä¿è¯è¿›ç¨‹äº’æ–¥åœ°è®¿é—®å…±äº«å˜é‡ï¼Œå¹¶æ–¹ä¾¿åœ°é˜»å¡žå’Œå”¤é†’è¿›ç¨‹ã€‚ç®¡ç¨‹å¯ä»¥å‡½æ•°åº“çš„å½¢å¼å®žçŽ°ã€‚&#10;&#10;å…¶**åŸºæœ¬æ€æƒ³æ˜¯æŠŠä¿¡å·é‡åŠå…¶æ“ä½œåŽŸè¯­å°è£…åœ¨ä¸€ä¸ªå¯¹è±¡å†…éƒ¨**ã€‚å³ï¼šå°†å…±äº«å˜é‡ä»¥åŠå¯¹å…±äº«å˜é‡èƒ½å¤Ÿè¿›è¡Œçš„æ‰€æœ‰æ“ä½œé›†ä¸­åœ¨ä¸€ä¸ªæ¨¡å—ä¸­ã€‚&#10;&#10;ç®¡ç¨‹çš„å®šä¹‰ï¼š**ç®¡ç¨‹æ˜¯å…³äºŽå…±äº«èµ„æºçš„æ•°æ®ç»“æž„åŠä¸€ç»„é’ˆå¯¹è¯¥èµ„æºçš„æ“ä½œè¿‡ç¨‹æ‰€æž„æˆçš„è½¯ä»¶æ¨¡å—ã€‚**&#10;&#10;å¼•å…¥ç®¡ç¨‹å¯æé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œä¾¿äºŽä¿®æ”¹å’Œç»´æŠ¤ï¼Œæ­£ç¡®æ€§æ˜“äºŽä¿è¯ã€‚é‡‡ç”¨é›†ä¸­å¼åŒæ­¥æœºåˆ¶ã€‚ä¸€ä¸ªæ“ä½œç³»ç»Ÿæˆ–å¹¶å‘ç¨‹åºç”±è‹¥å¹²ä¸ªè¿™æ ·çš„æ¨¡å—æ‰€æž„æˆï¼Œä¸€ä¸ªæ¨¡å—é€šå¸¸è¾ƒçŸ­ï¼Œæ¨¡å—ä¹‹é—´å…³ç³»æ¸…æ™°ã€‚&#10;&#10;ä»»ä¸€æ—¶åˆ»åœ¨ç®¡ç¨‹ä¸­åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ˜¯èƒ½è¿è¡Œçš„ï¼Œæ‰€ä»¥ç¨‹åºå‘˜ä¸å¿…åŽ»å®žçŽ°äº’æ–¥ç®—æ³•(è€Œç”±ç®¡ç¨‹æœ¬èº«å®žçŽ°).">
    </outline>
    <outline text="å…³é”®é—®é¢˜" _note="å®žçŽ°ç®¡ç¨‹çš„ä¸‰ä¸ªå…³é”®é—®é¢˜&#10;&#10;&gt; **äº’æ–¥**&#10;&gt;&#10;&gt; &gt; å¹¶å‘è¿›ç¨‹éœ€è¦äº’æ–¥åœ°è¿›å…¥ç®¡ç¨‹&#10;&gt;&#10;&gt; **æ¡ä»¶å˜é‡**&#10;&gt;&#10;&gt; &gt; ç®¡ç¨‹å¼•å…¥äº†æ¡ä»¶å˜é‡ï¼Œä¸åŒçš„æ¡ä»¶å˜é‡ï¼Œå¯¹åº”ä¸åŒåŽŸå› çš„è¿›ç¨‹ç­‰å¾…é˜Ÿåˆ—ã€‚&#10;&gt;&#10;&gt; **åŒæ­¥**&#10;&gt;&#10;&gt; &gt; åœ¨ç®¡ç¨‹ä¸­å¿…é¡»è®¾ç½®ä¸¤ä¸ªåŒæ­¥æ“ä½œåŽŸè¯­waitå’Œsignal&#10;&#10;é’ˆå¯¹æ¡ä»¶å˜é‡çš„ä¸¤ä¸ªåŒæ­¥æ“ä½œåŽŸè¯­:&#10;&#10;&gt; C.waitï¼ˆcï¼‰ï¼šæ‰§è¡Œæ­¤æ“ä½œçš„è¿›ç¨‹æŽ’å…¥cé˜Ÿåˆ—å°¾éƒ¨&#10;&gt;&#10;&gt; C.signalï¼ˆcï¼‰ï¼šå¦‚æžœcé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™ç›¸å½“äºŽç©ºæ“ä½œï¼Œæ‰§è¡Œæ­¤æ“ä½œçš„è¿›ç¨‹ç»§ç»­ï¼›å¦åˆ™å”¤é†’ç¬¬ä¸€ä¸ªç­‰å¾…è€…&#10;&#10;å½“è¿›ç¨‹é€šè¿‡ç®¡ç¨‹è¯·æ±‚è®¿é—®å…±äº«æ•°æ®è€Œæœªèƒ½æ»¡è¶³æ—¶ï¼Œè°ƒç”¨waitåŽŸè¯­åœ¨æœ‰å…³çš„æ¡ä»¶å˜é‡ä¸Šç­‰å¾…ï¼Œå½“å¦ä¸€è¿›ç¨‹è®¿é—®å®Œè¯¥å…±äº«æ•°æ®ä¸”é‡Šæ”¾åŽï¼Œè°ƒç”¨signalåŽŸè¯­ï¼Œå”¤é†’åœ¨æœ‰å…³çš„æ¡ä»¶å˜é‡ä¸Šç­‰å¾…çš„é¦–è¿›ç¨‹ã€‚">
    </outline>
    <outline text="ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜å†è§£å†³" _note="å»ºç«‹ä¸€ä¸ªç®¡ç¨‹PCï¼Œå®ƒåŒ…æ‹¬ä¸¤ä¸ªè¿‡ç¨‹&#10;&#10;&gt; putï¼ˆitemï¼‰:å°†ç”Ÿäº§çš„æ¶ˆæ¯æ”¾å…¥ç¼“å†²æ± &#10;&gt;&#10;&gt; getï¼ˆitemï¼‰ï¼Œä»Žç¼“å†²æ± å–å‡ºæ¶ˆæ¯&#10;&#10;è®¾ç½®ä¸€å˜é‡countè¡¨ç¤ºç¼“å†²æ± å·²å­˜æ¶ˆæ¯æ•°ç›®&#10;&#10;è®¾ç½®**ä¸¤ä¸ªæ¡ä»¶å˜é‡**notfull, notemptyè¡¨ç¤ºç­‰å¾…åŽŸå› &#10;&#10;     Type PC=monitor&#10;      var  in , out , count : integer ;&#10;             buffer : array [ 0 , â€¦ ,n-1] of item ;&#10;            notfull, notempty: condition ;&#10;     procedure  entry  put (item)&#10;        begin&#10;             if  count &gt;= n  then  notfull.wait ;&#10;             buffer ( in ) : = nextp ;&#10;             in := (in+1) mod n ;&#10;             count = count + 1 ;&#10;             if notempty.queue  then notempty.signal ;&#10;       end&#10;     procedure entry  get ( item)&#10;          begin&#10;                if  count &lt;= 0 then  notempty.wait ;&#10;                nextc := buffer ( out ) ;&#10;               out := (out+1) mod n ;&#10;               count := count - 1 ;&#10;               if  notfull.queue then notfull.signal ;&#10;          end&#10;     begin  in := out := 0 ;  count := 0;  end">
    </outline>
  </outline>
</outline>
  </body>
</opml>
